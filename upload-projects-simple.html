<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¸Šå‚³å°ˆæ¡ˆè³‡æ–™ - ç°¡åŒ–ç‰ˆ</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; line-height: 1.6; }
        .result { margin: 10px 0; padding: 10px; border-radius: 5px; }
        .error { background: #f8d7da; color: #721c24; }
        .success { background: #d4edda; color: #155724; }
        .info { background: #d1ecf1; color: #0c5460; }
        .warning { background: #fff3cd; color: #856404; }
        button { padding: 15px 25px; margin: 10px 5px; font-size: 16px; cursor: pointer; border: none; border-radius: 5px; }
        .btn-primary { background: #007bff; color: white; }
        .btn-success { background: #28a745; color: white; }
        .project-card { border: 1px solid #ddd; margin: 15px 0; padding: 20px; border-radius: 8px; background: #f8f9fa; }
        .upload-area { border: 2px dashed #ccc; padding: 30px; text-align: center; margin: 20px 0; border-radius: 10px; }
    </style>
</head>
<body>
    <h1>ğŸ“¤ ä¸Šå‚³å››å€‹å°ˆæ¡ˆçš„åŸºæœ¬è³‡æ–™åˆ° Google Drive</h1>

    <div class="upload-area">
        <h2>ğŸ¯ æ–¹å¼ä¸€ï¼šç›´æ¥è¤‡è£½ JSON æª”æ¡ˆ</h2>
        <p>æˆ‘å·²ç¶“ç‚ºæ‚¨æº–å‚™å¥½äº†å››å€‹å°ˆæ¡ˆçš„å®Œæ•´ JSON æª”æ¡ˆï¼Œæ‚¨å¯ä»¥ç›´æ¥ä¸‹è¼‰ä¸¦ä¸Šå‚³åˆ° Google Driveï¼š</p>
        <button class="btn-primary" onclick="downloadAllProjects()">ğŸ“¥ ä¸‹è¼‰æ‰€æœ‰å°ˆæ¡ˆæª”æ¡ˆ</button>
        <button class="btn-success" onclick="openGoogleDrive()">ğŸ“ é–‹å•Ÿ Google Drive è³‡æ–™å¤¾</button>
    </div>

    <div class="upload-area">
        <h2>ğŸ”— æ–¹å¼äºŒï¼šæ‰‹å‹•å»ºç«‹æª”æ¡ˆ</h2>
        <p>æ‚¨ä¹Ÿå¯ä»¥æ‰‹å‹•åœ¨ Google Drive ä¸­å»ºç«‹ä»¥ä¸‹æª”æ¡ˆï¼š</p>
        <div id="filesList"></div>
    </div>

    <h2>ğŸ“‹ å°ˆæ¡ˆè³‡æ–™é è¦½</h2>
    <div id="projects-preview"></div>

    <div id="results"></div>

    <script>
        // å°ˆæ¡ˆè³‡æ–™å®šç¾©
        const projectsData = {
            ErCore: {
                projectId: "ErCore",
                projectName: "ErCore - ä¼æ¥­ç´š AI çµ±ä¸€å¹³å°",
                description: "ä¼æ¥­ç´šäººå·¥æ™ºæ…§çµ±ä¸€ç®¡ç†å¹³å°ï¼Œæ•´åˆå¤šç¨® AI æœå‹™ä¸¦æä¾›çµ±ä¸€ä»‹é¢",
                status: "active",
                priority: "high",
                startDate: "2025-01-15",
                estimatedEndDate: "2025-06-30",
                budget: "é«˜é ç®—å°ˆæ¡ˆ",
                technologies: ["AI/ML", "Python", "React", "Docker", "Kubernetes"],
                goals: [
                    "å»ºç«‹ä¼æ¥­ç´š AI æœå‹™æ•´åˆå¹³å°",
                    "æä¾›çµ±ä¸€çš„ AI API ä»‹é¢",
                    "å¯¦ç¾å¤šæ¨¡å‹éƒ¨ç½²å’Œç®¡ç†",
                    "å»ºç«‹ç›£æ§å’Œåˆ†æç³»çµ±"
                ],
                milestones: [
                    { name: "éœ€æ±‚åˆ†æå®Œæˆ", date: "2025-02-01", status: "completed" },
                    { name: "æ¶æ§‹è¨­è¨ˆå®Œæˆ", date: "2025-02-15", status: "in_progress" },
                    { name: "æ ¸å¿ƒåŠŸèƒ½é–‹ç™¼", date: "2025-04-01", status: "pending" },
                    { name: "æ¸¬è©¦å’Œéƒ¨ç½²", date: "2025-05-15", status: "pending" },
                    { name: "æ­£å¼ä¸Šç·š", date: "2025-06-30", status: "pending" }
                ],
                team: {
                    "A-CC": { role: "frontend", tasks: ["UI è¨­è¨ˆ", "å‰ç«¯æ¶æ§‹", "çµ„ä»¶é–‹ç™¼"] },
                    "B-CC": { role: "backend", tasks: ["API é–‹ç™¼", "è³‡æ–™åº«è¨­è¨ˆ", "æœå‹™æ¶æ§‹"] },
                    "C-CC": { role: "testing", tasks: ["åŠŸèƒ½æ¸¬è©¦", "æ•ˆèƒ½æ¸¬è©¦", "å“è³ªä¿è­‰"] }
                },
                risks: ["AI æ¨¡å‹æ•´åˆè¤‡é›œåº¦é«˜", "æ•ˆèƒ½è¦æ±‚åš´æ ¼", "å®‰å…¨æ€§è¦æ±‚é«˜"]
            },

            ErNexus: {
                projectId: "ErNexus",
                projectName: "ErNexus - ä¼æ¥­ç´šçµ±ä¸€å¹³å°",
                description: "ä¼æ¥­ç´šçµ±ä¸€ç®¡ç†å¹³å°ï¼Œæ•´åˆå„ç¨®ä¼æ¥­æœå‹™å’Œå·¥å…·",
                status: "completed",
                priority: "medium",
                startDate: "2025-02-01",
                estimatedEndDate: "2025-04-30",
                actualEndDate: "2025-04-25",
                budget: "ä¸­ç­‰é ç®—å°ˆæ¡ˆ",
                technologies: ["React", "Node.js", "PostgreSQL", "Redis", "JWT"],
                goals: [
                    "å»ºç«‹ä¼æ¥­çµ±ä¸€ç®¡ç†ä»‹é¢",
                    "æ•´åˆç¾æœ‰ä¼æ¥­ç³»çµ±",
                    "æä¾›å–®ä¸€ç™»å…¥åŠŸèƒ½",
                    "å»ºç«‹æ¬Šé™ç®¡ç†ç³»çµ±"
                ],
                milestones: [
                    { name: "éœ€æ±‚åˆ†æå®Œæˆ", date: "2025-02-10", status: "completed" },
                    { name: "ç³»çµ±è¨­è¨ˆå®Œæˆ", date: "2025-02-20", status: "completed" },
                    { name: "æ ¸å¿ƒé–‹ç™¼å®Œæˆ", date: "2025-03-20", status: "completed" },
                    { name: "æ•´åˆæ¸¬è©¦å®Œæˆ", date: "2025-04-10", status: "completed" },
                    { name: "å°ˆæ¡ˆäº¤ä»˜", date: "2025-04-25", status: "completed" }
                ],
                team: {
                    "A-CA": { role: "frontend", tasks: ["Admin Portal UI", "React çµ„ä»¶", "ç‹€æ…‹ç®¡ç†"] },
                    "B-CA": { role: "backend", tasks: ["å¾®æœå‹™æ¶æ§‹", "JWT èªè­‰", "API æ•´åˆ"] },
                    "C-CA": { role: "testing", tasks: ["æ•´åˆæ¸¬è©¦", "API æ¸¬è©¦", "è‡ªå‹•åŒ–æ¸¬è©¦"] }
                },
                achievements: [
                    "æˆåŠŸæ•´åˆ 5 å€‹ä¼æ¥­ç³»çµ±",
                    "å¯¦ç¾å–®ä¸€ç™»å…¥åŠŸèƒ½",
                    "å»ºç«‹å®Œæ•´çš„æ¬Šé™ç®¡ç†é«”ç³»",
                    "ç²å¾—ç”¨æˆ¶é«˜åº¦æ»¿æ„åº¦"
                ]
            },

            ErShield: {
                projectId: "ErShield",
                projectName: "ErShield - å®‰å…¨é˜²è­·å¹³å°",
                description: "ä¼æ¥­ç´šå®‰å…¨é˜²è­·å’Œç›£æ§å¹³å°ï¼Œæä¾›å…¨æ–¹ä½çš„å®‰å…¨ä¿è­·",
                status: "active",
                priority: "high",
                startDate: "2025-03-01",
                estimatedEndDate: "2025-08-31",
                budget: "é«˜é ç®—å°ˆæ¡ˆ",
                technologies: ["Cybersecurity", "Python", "Go", "Docker", "ELK Stack"],
                goals: [
                    "å»ºç«‹ä¼æ¥­å®‰å…¨ç›£æ§ä¸­å¿ƒ",
                    "å¯¦ç¾å¨è„…æª¢æ¸¬å’Œé è­¦",
                    "æä¾›å®‰å…¨äº‹ä»¶éŸ¿æ‡‰æ©Ÿåˆ¶",
                    "å»ºç«‹åˆè¦å ±å‘Šç³»çµ±"
                ],
                milestones: [
                    { name: "å®‰å…¨éœ€æ±‚åˆ†æ", date: "2025-03-15", status: "completed" },
                    { name: "å¨è„…æ¨¡å‹å»ºç«‹", date: "2025-04-01", status: "in_progress" },
                    { name: "æ ¸å¿ƒé˜²è­·åŠŸèƒ½", date: "2025-05-15", status: "pending" },
                    { name: "ç›£æ§ç³»çµ±é–‹ç™¼", date: "2025-07-01", status: "pending" },
                    { name: "ç³»çµ±ä¸Šç·šæ¸¬è©¦", date: "2025-08-31", status: "pending" }
                ],
                team: {
                    "A-GI": { role: "frontend", tasks: ["å®‰å…¨å„€è¡¨æ¿", "Docker é¢¨æ ¼è¨­è¨ˆ", "éŸ¿æ‡‰å¼å¸ƒå±€"] },
                    "B-GI": { role: "backend", tasks: ["å®‰å…¨æ¨¡çµ„", "æ¬Šé™ç®¡ç†", "æ—¥èªŒç³»çµ±"] },
                    "C-GI": { role: "testing", tasks: ["å®‰å…¨æ¸¬è©¦", "æ»²é€æ¸¬è©¦", "åˆè¦é©—è­‰"] }
                },
                securityFeatures: [
                    "å¯¦æ™‚å¨è„…æª¢æ¸¬",
                    "å…¥ä¾µé˜²è­·ç³»çµ±",
                    "æ•¸æ“šåŠ å¯†ä¿è­·",
                    "å­˜å–æ§åˆ¶ç®¡ç†",
                    "å¯©è¨ˆæ—¥èªŒè¨˜éŒ„"
                ]
            },

            ErTidy: {
                projectId: "ErTidy",
                projectName: "ErTidy - ä¼æ¥­ç´šæ™ºèƒ½é–‹ç™¼å¹³å°",
                description: "æ™ºèƒ½åŒ–é–‹ç™¼å¹³å°ï¼Œæä¾› AI è¼”åŠ©çš„ä»£ç¢¼é–‹ç™¼å’Œç®¡ç†å·¥å…·",
                status: "active",
                priority: "medium",
                startDate: "2025-04-01",
                estimatedEndDate: "2025-10-31",
                budget: "ä¸­é«˜é ç®—å°ˆæ¡ˆ",
                technologies: ["AI/ML", "Rust", "TypeScript", "WebAssembly", "TensorFlow"],
                goals: [
                    "å»ºç«‹ AI è¼”åŠ©é–‹ç™¼ç’°å¢ƒ",
                    "æä¾›æ™ºèƒ½ä»£ç¢¼ç”Ÿæˆ",
                    "å¯¦ç¾è‡ªå‹•åŒ–æ¸¬è©¦é©…å‹•é–‹ç™¼",
                    "å»ºç«‹ä»£ç¢¼å“è³ªç›£æ§ç³»çµ±"
                ],
                milestones: [
                    { name: "AI æ¨¡å‹è¨“ç·´", date: "2025-04-20", status: "in_progress" },
                    { name: "é–‹ç™¼å·¥å…·æ•´åˆ", date: "2025-06-01", status: "pending" },
                    { name: "æ™ºèƒ½åŠŸèƒ½é–‹ç™¼", date: "2025-08-01", status: "pending" },
                    { name: "å“è³ªç³»çµ±å»ºç«‹", date: "2025-09-15", status: "pending" },
                    { name: "å¹³å°æ­£å¼ç™¼å¸ƒ", date: "2025-10-31", status: "pending" }
                ],
                team: {
                    "A-CI": { role: "frontend", tasks: ["æ™ºèƒ½ IDE", "è¨­è¨ˆç³»çµ±", "é–‹ç™¼å·¥å…· UI"] },
                    "B-CI": { role: "backend", tasks: ["AI å¼•æ“", "Rust æ ¸å¿ƒ", "æ™ºèƒ½åˆ†æ"] },
                    "C-CI": { role: "testing", tasks: ["AI-TDD æ¸¬è©¦", "æ™ºèƒ½æ¸¬è©¦", "ä»£ç¢¼å“è³ª"] }
                },
                aiFeatures: [
                    "æ™ºèƒ½ä»£ç¢¼è£œå…¨",
                    "è‡ªå‹•åŒ–é‡æ§‹å»ºè­°",
                    "æ™ºèƒ½æ¸¬è©¦ç”Ÿæˆ",
                    "ä»£ç¢¼å“è³ªåˆ†æ",
                    "æ•ˆèƒ½å„ªåŒ–å»ºè­°"
                ]
            }
        };

        // å°ˆæ¡ˆåˆ†é…è³‡æ–™
        const assignmentsData = {
            assignments: {
                ErCore: {
                    projectId: "ErCore",
                    projectName: "ErCore - ä¼æ¥­ç´š AI çµ±ä¸€å¹³å°",
                    members: {
                        "A-CC": { memberId: "A-CC", role: "frontend", assignedDate: "2025-01-15", tasks: ["UI è¨­è¨ˆ", "å‰ç«¯æ¶æ§‹", "çµ„ä»¶é–‹ç™¼"] },
                        "B-CC": { memberId: "B-CC", role: "backend", assignedDate: "2025-01-15", tasks: ["API é–‹ç™¼", "è³‡æ–™åº«è¨­è¨ˆ", "æœå‹™æ¶æ§‹"] },
                        "C-CC": { memberId: "C-CC", role: "testing", assignedDate: "2025-01-20", tasks: ["åŠŸèƒ½æ¸¬è©¦", "æ•ˆèƒ½æ¸¬è©¦", "å“è³ªä¿è­‰"] }
                    },
                    lastUpdated: "2025-09-18",
                    status: "active"
                },
                ErNexus: {
                    projectId: "ErNexus",
                    projectName: "ErNexus - ä¼æ¥­ç´šçµ±ä¸€å¹³å°",
                    members: {
                        "A-CA": { memberId: "A-CA", role: "frontend", assignedDate: "2025-02-01", tasks: ["Admin Portal UI", "React çµ„ä»¶", "ç‹€æ…‹ç®¡ç†"] },
                        "B-CA": { memberId: "B-CA", role: "backend", assignedDate: "2025-02-01", tasks: ["å¾®æœå‹™æ¶æ§‹", "JWT èªè­‰", "API æ•´åˆ"] },
                        "C-CA": { memberId: "C-CA", role: "testing", assignedDate: "2025-02-10", tasks: ["æ•´åˆæ¸¬è©¦", "API æ¸¬è©¦", "è‡ªå‹•åŒ–æ¸¬è©¦"] }
                    },
                    lastUpdated: "2025-09-18",
                    status: "completed"
                },
                ErShield: {
                    projectId: "ErShield",
                    projectName: "ErShield - å®‰å…¨é˜²è­·å¹³å°",
                    members: {
                        "A-GI": { memberId: "A-GI", role: "frontend", assignedDate: "2025-03-01", tasks: ["å®‰å…¨å„€è¡¨æ¿", "Docker é¢¨æ ¼è¨­è¨ˆ", "éŸ¿æ‡‰å¼å¸ƒå±€"] },
                        "B-GI": { memberId: "B-GI", role: "backend", assignedDate: "2025-03-01", tasks: ["å®‰å…¨æ¨¡çµ„", "æ¬Šé™ç®¡ç†", "æ—¥èªŒç³»çµ±"] },
                        "C-GI": { memberId: "C-GI", role: "testing", assignedDate: "2025-03-10", tasks: ["å®‰å…¨æ¸¬è©¦", "æ»²é€æ¸¬è©¦", "åˆè¦é©—è­‰"] }
                    },
                    lastUpdated: "2025-09-18",
                    status: "active"
                },
                ErTidy: {
                    projectId: "ErTidy",
                    projectName: "ErTidy - ä¼æ¥­ç´šæ™ºèƒ½é–‹ç™¼å¹³å°",
                    members: {
                        "A-CI": { memberId: "A-CI", role: "frontend", assignedDate: "2025-04-01", tasks: ["æ™ºèƒ½ IDE", "è¨­è¨ˆç³»çµ±", "é–‹ç™¼å·¥å…· UI"] },
                        "B-CI": { memberId: "B-CI", role: "backend", assignedDate: "2025-04-01", tasks: ["AI å¼•æ“", "Rust æ ¸å¿ƒ", "æ™ºèƒ½åˆ†æ"] },
                        "C-CI": { memberId: "C-CI", role: "testing", assignedDate: "2025-04-10", tasks: ["AI-TDD æ¸¬è©¦", "æ™ºèƒ½æ¸¬è©¦", "ä»£ç¢¼å“è³ª"] }
                    },
                    lastUpdated: "2025-09-18",
                    status: "active"
                }
            },
            constraints: {
                oneRolePerProject: "æ¯å€‹æˆå“¡åœ¨å–®ä¸€å°ˆæ¡ˆä¸­åªèƒ½æ“”ä»»ä¸€å€‹è§’è‰²",
                availableRoles: ["frontend", "backend", "testing"],
                minMembersPerRole: 1,
                maxMembersPerRole: 3
            },
            statistics: {
                totalAssignments: 12,
                activeProjects: 3,
                completedProjects: 1,
                membersInUse: 12,
                availableMembers: 6
            }
        };

        function log(message, type = 'info') {
            const div = document.createElement('div');
            div.className = `result ${type}`;
            div.innerHTML = `[${new Date().toLocaleTimeString()}] ${message}`;
            document.getElementById('results').appendChild(div);
        }

        function showProjectsPreview() {
            const container = document.getElementById('projects-preview');
            container.innerHTML = '';

            Object.values(projectsData).forEach(project => {
                const card = document.createElement('div');
                card.className = 'project-card';

                const statusBadge = project.status === 'active' ?
                    '<span style="background: #28a745; color: white; padding: 3px 8px; border-radius: 12px; font-size: 12px;">é€²è¡Œä¸­</span>' :
                    '<span style="background: #6c757d; color: white; padding: 3px 8px; border-radius: 12px; font-size: 12px;">å·²å®Œæˆ</span>';

                const priorityColor = project.priority === 'high' ? '#dc3545' :
                                    project.priority === 'medium' ? '#ffc107' : '#28a745';

                card.innerHTML = `
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;">
                        <h3 style="margin: 0;">${project.projectName}</h3>
                        <div>
                            ${statusBadge}
                            <span style="background: ${priorityColor}; color: white; padding: 3px 8px; border-radius: 12px; font-size: 12px; margin-left: 5px;">
                                ${project.priority === 'high' ? 'é«˜å„ªå…ˆç´š' : project.priority === 'medium' ? 'ä¸­å„ªå…ˆç´š' : 'ä½å„ªå…ˆç´š'}
                            </span>
                        </div>
                    </div>
                    <p><strong>æè¿°:</strong> ${project.description}</p>
                    <p><strong>æŠ€è¡“æ£§:</strong> ${project.technologies.join(', ')}</p>
                    <p><strong>åœ˜éšŠæˆå“¡:</strong> ${Object.keys(project.team).join(', ')}</p>
                    <p><strong>ä¸»è¦ç›®æ¨™:</strong></p>
                    <ul>${project.goals.map(goal => `<li>${goal}</li>`).join('')}</ul>
                `;
                container.appendChild(card);
            });
        }

        function downloadAllProjects() {
            log('ğŸ“¥ é–‹å§‹ä¸‹è¼‰æ‰€æœ‰å°ˆæ¡ˆæª”æ¡ˆ...', 'info');

            const timestamp = new Date().toISOString().replace(/[:.]/g, '-').split('T');
            const dateStr = timestamp[0];
            const timeStr = timestamp[1].split('-')[0];

            // ä¸‹è¼‰æ¯å€‹å°ˆæ¡ˆæª”æ¡ˆ
            Object.entries(projectsData).forEach(([projectId, projectData]) => {
                const wrappedData = {
                    version: "1.0",
                    type: "project",
                    projectId: projectId,
                    lastSync: new Date().toISOString(),
                    data: projectData
                };

                downloadJSON(wrappedData, `ErDashboard_Project_${projectId}_${dateStr}_${timeStr}.json`);
                log(`âœ… ${projectData.projectName} æª”æ¡ˆå·²ä¸‹è¼‰`, 'success');
            });

            // ä¸‹è¼‰å°ˆæ¡ˆåˆ†é…æª”æ¡ˆ
            const assignmentsWrapped = {
                version: "1.0",
                type: "assignments",
                lastSync: new Date().toISOString(),
                data: assignmentsData
            };

            downloadJSON(assignmentsWrapped, `ErDashboard_Assignments_${dateStr}_${timeStr}.json`);
            log('âœ… å°ˆæ¡ˆåˆ†é…æª”æ¡ˆå·²ä¸‹è¼‰', 'success');

            log('ğŸ‰ æ‰€æœ‰æª”æ¡ˆä¸‹è¼‰å®Œæˆï¼è«‹å°‡é€™äº›æª”æ¡ˆä¸Šå‚³åˆ° Google Drive è³‡æ–™å¤¾', 'success');
        }

        function downloadJSON(data, filename) {
            const dataStr = JSON.stringify(data, null, 2);
            const dataUri = 'data:application/json;charset=utf-8,'+ encodeURIComponent(dataStr);

            const exportFileDefaultName = filename;

            const linkElement = document.createElement('a');
            linkElement.setAttribute('href', dataUri);
            linkElement.setAttribute('download', exportFileDefaultName);
            linkElement.click();
        }

        function openGoogleDrive() {
            const driveUrl = 'https://drive.google.com/drive/folders/YOUR_FOLDER_ID_HERE';
            window.open(driveUrl, '_blank');
            log('ğŸ“ å·²é–‹å•Ÿ Google Drive è³‡æ–™å¤¾', 'info');
        }

        function showFilesList() {
            const container = document.getElementById('filesList');
            const timestamp = new Date().toISOString().replace(/[:.]/g, '-').split('T');
            const dateStr = timestamp[0];
            const timeStr = timestamp[1].split('-')[0];

            const files = [
                `ErDashboard_Project_ErCore_${dateStr}_${timeStr}.json`,
                `ErDashboard_Project_ErNexus_${dateStr}_${timeStr}.json`,
                `ErDashboard_Project_ErShield_${dateStr}_${timeStr}.json`,
                `ErDashboard_Project_ErTidy_${dateStr}_${timeStr}.json`,
                `ErDashboard_Assignments_${dateStr}_${timeStr}.json`
            ];

            container.innerHTML = `
                <p>å»ºè­°çš„æª”æ¡ˆåç¨±ï¼š</p>
                <ul>
                    ${files.map(file => `<li><code>${file}</code></li>`).join('')}
                </ul>
            `;
        }

        // é é¢è¼‰å…¥å¾Œé¡¯ç¤ºé è¦½
        window.addEventListener('load', () => {
            showProjectsPreview();
            showFilesList();
            log('ğŸ“‹ å°ˆæ¡ˆè³‡æ–™å·²æº–å‚™å®Œæˆ', 'info');
        });
    </script>
</body>
</html>